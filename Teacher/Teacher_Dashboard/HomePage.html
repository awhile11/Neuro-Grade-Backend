<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Teacher Dashboard</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="HomePage.css">
<script type="module" src="FirebaseDashboard.js"></script>

</head>
<body>
  <!-- Top left logo -->
  <img src="neuro grade logo.jpg" alt="NeuroGrade Logo" class="top-left-logo">

  <!-- Mobile menu toggle -->
  <button class="menu-toggle" id="menu-toggle">
    <i class="fas fa-bars"></i>
  </button>

  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <div class="nav">
      <a href="#"><button class="active" data-page="home"><i class="fas fa-home"></i> Home</button></a>
      <a href="#"><button data-page="tests"><i class="fas fa-tasks"></i> Tests</button></a>
      <a href="#"><button data-page="students"><i class="fas fa-users"></i> Students</button></a>
      <a href="#"><button data-page="practice"><i class="fas fa-graduation-cap"></i> Practice</button></a>
      <a href="#"><button data-page="feedback"><i class="fas fa-comment-dots"></i> Feedback</button></a>
    </div>
  </div>

  <!-- Main -->
  <div class="main">
    <!-- Top bar -->
    <div class="top-bar">
      <a href="#" class="icon-link" id="mail-icon">
        <i class="fas fa-envelope"></i>
        <span class="icon-badge">0</span>
      </a>
      <a href="#" class="icon-link" id="notification-icon">
        <i class="fas fa-bell"></i>
        <span class="icon-badge">0</span>
      </a>
      <!-- Top user info will be updated dynamically -->
      <div class="top-user">
        <span><b id="teacher-name">Loading...</b><br><small id="teacher-email"></small></span>
        <img id="teacher-avatar" src="https://placehold.co/35x35/8e44ad/FFFFFF?text=T" alt="User">
      </div>
    </div>

    <!-- Welcome section -->
    <div class="welcome-box">
      <h1 id="welcome-message">WELCOME BACK!</h1>
      <p>Here is a quick overview of your class and students progress</p>
    </div>

    <!-- Dashboard content -->
    <div class="dashboard">
      <!-- Left column -->
      <div class="left-col">
        <div class="average-card">
          <h2>Class Average Score</h2>
          <p class="average" id="class-average">--.--%</p>
          <p class="change"><i class="fas fa-arrow-up"></i> <span id="average-change">Calculating...</span></p>
          <p class="students-count" id="students-count">Loading data from database...</p>
          <button class="refresh-btn" id="refresh-btn">
            <i class="fas fa-sync-alt"></i> Refresh Data
          </button>
        </div>

        <div class="subjects-card">
          <div class="subjects-header">
            <h2>Your Subjects</h2>
            <button class="add-subject-btn" id="add-subject-btn">
              <i class="fas fa-plus"></i> Add Subject
            </button>
          </div>
          
          <div id="subjects-container">
            <div class="empty-state">
              <i class="fas fa-book-open"></i>
              <p>No subjects yet</p>
              <p>Subjects will be loaded from your database</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Right column -->
      <div class="right-col">
        <h2>Academic Overview</h2>
        <p>Your classes academic performance over time.</p>
        <div class="graph-container">
          <div>
            <i class="fas fa-chart-line" style="font-size: 40px; margin-bottom: 10px;"></i>
            <p>Graph data will be loaded from database</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mail Popup -->
  <div class="popup" id="mail-popup">
    <button class="popup-close">&times;</button>
    <h3><i class="fas fa-envelope"></i> Messages</h3>
    <div class="popup-content">
      <div class="empty-state">
        <i class="fas fa-inbox" style="font-size: 50px; margin-bottom: 15px;"></i>
        <p>No messages yet</p>
        <p>Messages will be loaded from database</p>
      </div>
    </div> 
  </div>

  <!-- Notification Popup -->
  <div class="popup" id="notification-popup">
    <button class="popup-close">&times;</button>
    <h3><i class="fas fa-bell"></i> Notifications</h3>
    <div class="popup-content">
      <div class="empty-state">
        <i class="far fa-bell-slash" style="font-size: 50px; margin-bottom: 15px;"></i>
        <p>No notifications yet</p>
        <p>Notifications will be loaded from database</p>
      </div>
    </div>
  </div>

  <!-- Add/Edit Subject Popup -->
  <div class="popup" id="subject-popup">
    <button class="popup-close">&times;</button>
    <h3><i class="fas fa-book"></i> <span id="subject-popup-title">Add Subject</span></h3>
    <div class="popup-content">
      <div class="form-group">
        <label for="subject-name">Subject Name</label>
        <input type="text" id="subject-name" placeholder="Enter subject name">
      </div>
      <div class="form-group">
        <label for="subject-year">Year</label>
        <select id="subject-year">
          <option value="">Select year</option>
          <option value="1st year">1st Year</option>
          <option value="2nd year">2nd Year</option>
          <option value="3rd year">3rd Year</option>
          <option value="4th year">4th Year</option>
          <option value="5th year">5th Year</option>
        </select>
      </div>
      <div class="form-actions">
        <button class="btn-secondary" id="cancel-subject">Cancel</button>
        <button class="btn-primary" id="save-subject">Save</button>
      </div>
    </div>
  </div>

  <!-- Overlay -->
  <div class="overlay" id="overlay"></div>


</body>
</html>