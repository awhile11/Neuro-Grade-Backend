<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NeuroGrade - Feedback</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="stylesheet" href="feedBack.css">
</head>
<body>

  <!-- Top left logo -->
  <img src="neuro grade logo.jpg" alt="NeuroGrade Logo" class="top-left-logo">

  <!-- Mobile menu toggle -->
  <button class="menu-toggle" id="menu-toggle">
    <i class="fas fa-bars"></i>
  </button>

  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <div class="nav">
      <button onclick="showPage('home')"><i class="fas fa-home"></i> Home</button>
      <button onclick="showPage('task')"><i class="fas fa-tasks"></i> Task</button>
      <button onclick="showPage('students')"><i class="fas fa-users"></i> Students</button>
      <button onclick="showPage('practice')"><i class="fas fa-graduation-cap"></i> Practice</button>
      <button class="active" onclick="showPage('feedback')"><i class="fas fa-comment-dots"></i> Feedback</button>
    </div>
  </div>

  <!-- Main -->
  <div class="main">
    <!-- Top bar -->
    <div class="top-bar">
      <a href="#" class="icon-link" id="mail-icon">
        <i class="fas fa-envelope"></i>
        <span class="icon-badge">0</span>
      </a>
      <a href="#" class="icon-link" id="notification-icon">
        <i class="fas fa-bell"></i>
        <span class="icon-badge">0</span>
      </a>
      <div class="top-user">
        <span><b>CAT-WOMAN</b><br><small>CATBAT12@gmail.com</small></span>
        <img src="https://placehold.co/35x35/8e44ad/FFFFFF?text=C" alt="User">
      </div>
    </div>

    <div class="feedback-layout">
      <div class="student-list">
        <div class="student-search">
          <input type="text" placeholder="Student number" id="studentNumberSearch">
          <input type="text" placeholder="Name" id="studentNameSearch">
        </div>
        <div class="students">
          <!-- Student list will be populated from database -->
          <div class="loading">
            <i class="fas fa-spinner"></i>
            <p>Loading students from database...</p>
          </div>
        </div>
      </div>

      <div class="right-panel-container">
        <!-- Student profile section - outside of the task panel -->
        <div class="student-profile-section">
          <img src="https://placehold.co/80x80/9b59b6/FFFFFF?text=?" alt="Student" id="student-profile-img">
          <div class="student-profile-info">
            <h2 id="student-name">Select a student</h2>
            <div class="student-number" id="student-number">Student Number: </div>
          </div>
        </div>

        <div class="feedback-panel">
          <div class="panel-card">
            <h3><i class="fas fa-list-ul"></i> TASK</h3>
            <div class="task-list">
              <!-- Task list will be populated from database -->
              <div class="loading">
                <i class="fas fa-spinner"></i>
                <p>Select a student to view tasks</p>
              </div>
            </div>
          </div>
          
          <div class="panel-card">
            <h3><i class="fas fa-robot"></i> AUTOGRADER RESULTS</h3>
            <div class="autograder-results">
              <!-- Autograder results will be populated from database -->
              <div class="loading">
                <i class="fas fa-spinner"></i>
                <p>Select a task to view results</p>
              </div>
            </div>
          </div>
          
          <div class="panel-card">
            <h3><i class="fas fa-pen-to-square"></i> MANUAL FEEDBACK</h3>
            <div class="manual-feedback">
              <div>
                <div class="feedback-header">
                  <b>PRIVATE FEEDBACK FOR STUDENT</b>
                </div>
                <textarea class="feedback-textarea" id="private-feedback-input" placeholder="Enter private feedback for this student..."></textarea>
              </div>
              <div>
                <div class="feedback-header">
                  <b>FEEDBACK FOR CLASS</b>
                </div>
                <textarea class="feedback-textarea" id="class-feedback-input" placeholder="Enter general feedback for the class..."></textarea>
              </div>
              <div class="flex-spacer"></div>
              <div class="grade-input-container">
                <h4>ADJUSTED GRADE</h4>
                <div class="grade-input-wrapper">
                  <input type="number" class="grade-input" id="adjusted-grade" min="0" max="100" value="">
                  <span class="grade-slash">/</span>
                  <span class="grade-total">100</span>
                </div>
              </div>
              <button class="save-button" id="save-feedback-btn" onclick="saveFeedback()">SAVE FEEDBACK</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Overlay for mobile menu -->
  <div class="overlay" id="overlay"></div>

</body>
</html>